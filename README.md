# SC-11_ee

## Arduino Pin使用番号

## 各種センサ動作確認結果

<table>
    <tr>
        <td width="20%" rowspan="3">三軸加速度</td>
        <td>analogRead()で電圧を読んでシリアルモニタに表示することはできた</td>
    </tr>
    <tr>
        <td>ふってみてデータを見た感じ変化はしているのでちゃんと取れてる？</td>
    </tr>
    <tr>
        <td>生データを表示しているのでわかりにくいので，[m/s^2]表記への変換が必要</td>
    </tr>
    <tr>
        <td rowspan="3">3軸角速度</td>
        <td>https://n.mtng.org/ele/arduino/tutorial017.html</td>
    </tr>
    <tr>
        <td>レジスタ等の変更が必要らしい</td>
    </tr>
    <tr>
        <td>単位は [°/sec]</td>
    </tr>
    <tr>
        <td rowspan="4">BME280</td>
        <td>高度がマイナスになるのは海面気圧が問題？</td>
    </tr>
    <tr>
        <td>SC-10で購入したSwitchScience製のBME280で動作確認</td>
    </tr>
    <tr>
        <td>高度は↓のサイトを参照</td>
    </tr>
    <tr>
        <td>https://keisan.casio.jp/exec/system/1203469826</td>
    </tr>
        <tr>
        <td rowspan="3">DRV8835</td>
        <td>モーターを動かす時間がなかったのでLEDでテスト</td>
    </tr>
    <tr>
        <td>「加速」「減速」以外はLEDでは正常に動作</td>
    </tr>
    <tr>
        <td>「加速」は「減速」は確認できなかった（エラーは出てない）</td>
    </tr>
</table>

## モード定義

この セクションでは各モードの概要を説明する．

#### 待機モード (Mode-N)

- このモードでは基本的には「何もしない」というモードですが，以下のセンサーのキャリブレーション・実行準備を実施します．
  
  - 加速度センサー
  - 角速度センサー
  - 地磁気センサー
  - ブラシレスモーター

- 以下の定義を全て満たした場合に `Mode-A` に移行するものとする．
  
  1. Arduino Nanoが起動してから `30 sec` 以上経過している
  
  2. CanSatの高度が `TBD m` 以上である
  
  3. CanSatが落下を検知
     
     :pencil2: 落下を検知とは：未定義

#### 機体安定モード (Mode-A)

- このモードでは機体を安定させることに特化した（またはそれのみを実施する）モードである．
  - 機体がある程度安定したら，`Mode-B`に移行し，機体を的確に制御する．

#### 機体制御モード (Mode-B)

- このモードでは機体を制御させることに特化した（またはそれのみを実施する）モードである．特に，ゴールへの制御を実行する．
  - 機体制御が困難になった場合は，`Mode-A`に移行する．
  - ゴールから`TBD`m以内に入ったら`Mode-F`

#### 最終着地モード (Mode-F)

- このモードではゴールとの距離を維持したまま下降することのみに特化したモード